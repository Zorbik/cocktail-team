{"mappings":"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","sources":["src/js/modal.js","src/js/createModalCoctailMarkup.js","node_modules/@parcel/runtime-js/lib/runtime-e22ea511e0d9930b.js","src/js/generateIngridientsList.js","node_modules/@swc/helpers/lib/_define_property.js","node_modules/@swc/helpers/lib/_object_spread.js","src/js/createFavoritesPage.js","node_modules/@parcel/runtime-js/lib/runtime-16d31086b167895f.js"],"sourcesContent":["import { getCocktailById } from './request-api';\nimport { createModalMarkupCocktail } from './createModalCoctailMarkup';\n// import { isFavorite } from './addFavoriteCocktail';\nimport { onClickIngredient } from './modalEngredient';\nimport { STORAGE_KEY } from './refs';\nimport { getLocalData, checkIdCocktail } from './addFavoriteCocktail';\n\nconst closeModalButton = document.querySelector('.js-modal-coctail-close');\nconst modalCardEl = document.querySelector('#modal');\nconst body = document.querySelector('body');\nconst gallery = document.querySelector('.gallery');\n\nconst overlay = document.getElementById('overlay');\n\ngallery.addEventListener('click', onGalleryClick);\noverlay.addEventListener('click', onOverlayClick);\n// closeModalButton.addEventListener('click', onCloseButtonClick);\n\nasync function onGalleryClick(e) {\n  if (!e.target.dataset.modalTarget) {\n    return;\n  }\n  openModal(modalCardEl);\n\n  const coctail = await getCocktailById(e.target.dataset.id);\n\n  const markup = await createModalMarkupCocktail(coctail);\n\n  modalCardEl.innerHTML = markup;\n\n  modalCardEl.addEventListener('click', onClickModal);\n}\n\nfunction isFavoriteCoctail(e) {\n  const targetEl = e.target.closest('.modal__add-btn');\n\n  if (!targetEl) {\n    return;\n  }\n\n  if (targetEl.classList.contains('btn-added')) {\n    onRemoveFavorite(targetEl);\n  } else {\n    onAddFavorite(targetEl);\n  }\n}\n\nfunction onAddFavorite(elem) {\n  let arrCocktails = getLocalData(STORAGE_KEY);\n  arrCocktails.push(elem.dataset.id);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(arrCocktails));\n  elem.textContent = 'Remove from favorite';\n  elem.classList.add('btn-added');\n}\n\nfunction onRemoveFavorite(elem) {\n  let arrCocktails = getLocalData(STORAGE_KEY);\n  const index = checkIdCocktail(STORAGE_KEY, elem.dataset.id);\n  if (index >= 0) {\n    arrCocktails.splice(index, 1);\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(arrCocktails));\n  }\n\n  elem.textContent = 'Add to favorite';\n  elem.classList.remove('btn-added');\n}\n\nfunction onClickModal(e) {\n  isFavoriteCoctail(e);\n  onCloseButtonCloseClick(e);\n  onClickIngredient(e);\n}\n\nfunction onCloseButtonCloseClick(e) {\n  // console.log(e.target.closest('.js-modal-coctail-close'));\n  if (e.target.closest('.js-modal-coctail-close')) {\n    closeModal(modalCardEl);\n  }\n}\n\nfunction onOverlayClick() {\n  const modals = document.querySelectorAll('.modal.active');\n  modals.forEach(modalCardEl => {\n    closeModal(modalCardEl);\n  });\n}\n\nfunction openModal() {\n  modalCardEl.classList.add('active');\n  overlay.classList.add('active');\n  body.classList.toggle('modal-opened');\n}\n\nfunction closeModal() {\n  modalCardEl.classList.remove('active');\n  overlay.classList.remove('active');\n  body.classList.toggle('modal-opened');\n  removeEventListener('click', onClickModal);\n}\n","import sprite from '../images/symbol-defs.svg';\nimport { checkIdCocktail } from './addFavoriteCocktail';\nimport { renderIngredientsMarkup } from './generateIngridientsList';\nimport { STORAGE_KEY } from './refs';\n\nexport async function createModalMarkupCocktail(arrCocktails) {\n  // console.log('arrCocktails', arrCocktails);\n  const list = await renderIngredientsMarkup(arrCocktails.idDrink);\n  const { strDrinkThumb, strDrink, idDrink, strInstructions } = arrCocktails;\n\n  return `\n        <button class=\"modal__cocktail-close-button js-modal-coctail-close\" type=\"button\">\n            <svg class=\"close__icon\" width=\"32\" height=\"32\">\n              <use href=\"${sprite}#icon-close-btn\"></use>\n            </svg>\n        </button>\n        <h2 class=\"modal__coctail-name\">${strDrink}</h2>\n        <div class=\"modal__wrapper\">\n        <div class=\"modal__wrapper-instructions\">\n        <p class=\"modal__coctail-instractions\">INSTRUCTIONS:</p>\n        <p class=\"modal__coctail-description\">${strInstructions}</p>\n        </div>\n        <img class=\"modal__coctail-img\" src=\"${strDrinkThumb}\" alt=\"${strDrink}\" />\n        <div class=\"modal__wrapper-ingredients\">\n        <p class=\"modal__coctail-ingredients\">INGREDIENTS</p>\n        <p class=\"modal__p\">Per cocktail</p>\n        <ul class=\"modal__coctail-ingredients-list\">${list}</ul>\n        </div>\n        </div>\n        <button class=\" modal__add-btn coctail ${\n          checkIdCocktail(STORAGE_KEY, idDrink) >= 0 ? 'btn-added' : ''\n        }\" data-id=\"${idDrink}\" type=\"button\">\n            ${\n              checkIdCocktail(STORAGE_KEY, idDrink) >= 0\n                ? 'Remove from favorite'\n                : 'Add to favorite'\n            }\n        </button>\n    `;\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('czn6k') + require('./helpers/bundle-manifest').resolve(\"kxKJ3\");","import { getCocktailById } from './request-api';\n\nasync function generateIngredientsList(idCocktail) {\n  const arrCocktail = await getCocktailById(idCocktail);\n  const cocktailObj = arrCocktail;\n  let objIngredients = {};\n\n  for (let i = 1; i <= 15; i += 1) {\n    if (cocktailObj[`strIngredient${i}`]) {\n      objIngredients = {\n        ...objIngredients,\n        [cocktailObj[`strIngredient${i}`]]: cocktailObj[`strMeasure${i}`],\n      };\n    }\n  }\n  return objIngredients;\n}\n\nexport async function renderIngredientsMarkup(id) {\n  const cocktail = await generateIngredientsList(id);\n  const arrIngredients = Object.keys(cocktail);\n  const markup = arrIngredients\n    .map(el => {\n      return `<li class=\"modal__ingredients-item\" data-ingredient=\"${el}\"<span>✶ </span><a data-ingredient=\"${el}\" class=\"modal__ingredient-link\">${\n        cocktail[el] ? cocktail[el] : ''\n      } ${el}</a></li>`;\n    })\n    .join('');\n  return markup;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _objectSpread;\nvar _defineProperty = _interopRequireDefault(require(\"./_define_property\"));\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            (0, _defineProperty).default(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","import { getCocktailById } from './request-api';\nimport { elem, gallery, STORAGE_KEY } from './refs';\nimport { getLocalData } from './addFavoriteCocktail';\nimport { pagination } from './renderSearchPage';\n\nconst favoriteCocktailsEl = document.querySelector('.js-favorite-cocktails');\n\nfavoriteCocktailsEl.addEventListener('click', renderFavoriteCocktailsMarkup);\n\nfunction generateArrPromiseForFavoriteCocktailsMarkup() {\n  let arr = getLocalData(STORAGE_KEY);\n  if (!arr.length) return noFoundFavorit();\n\n  let arrPromise = [];\n\n  for (let i = 0; i < arr.length; i += 1) {\n    arrPromise.push(getCocktailById(arr[i]));\n  }\n  return arrPromise;\n}\n\nexport async function renderFavoriteCocktailsMarkup() {\n  const arrPromise = generateArrPromiseForFavoriteCocktailsMarkup();\n  if (!arrPromise) return;\n  const arrCocktails = await Promise.all([...arrPromise]);\n  pagination(arrCocktails);\n\n  elem.firstElementChild.textContent = 'Favorite Cocktails';\n}\n\nfunction noFoundFavorit() {\n  gallery.textContent = `You haven't added any <br> favorite cocktails yet`;\n}\n","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"czn6k\\\":\\\"favoriteCocktailsPage.b3a5c8d0.js\\\",\\\"kxKJ3\\\":\\\"symbol-defs.fc3e2d0b.svg\\\"}\"));"],"names":["$bpxeT","parcelRequire","$40873ecf3c18e122$var$modalCardEl","document","querySelector","$40873ecf3c18e122$var$body","$40873ecf3c18e122$var$gallery","$40873ecf3c18e122$var$overlay","getElementById","$40873ecf3c18e122$var$_onGalleryClick","$parcel$interopDefault","$2TvXO","mark","_callee","e","coctail","markup","target","dataset","modalTarget","$40873ecf3c18e122$var$openModal","$ikj7U","getCocktailById","id","_ctx","sent","$6qGjV","createModalMarkupCocktail","innerHTML","addEventListener","$40873ecf3c18e122$var$onClickModal","apply","this","arguments","$40873ecf3c18e122$var$isFavoriteCoctail","elem","arrCocktails","targetEl","closest","classList","contains","$29o51","getLocalData","$4Nugj","STORAGE_KEY","index","checkIdCocktail","splice","localStorage","setItem","JSON","stringify","textContent","remove","$40873ecf3c18e122$var$onRemoveFavorite","push","add","$40873ecf3c18e122$var$closeModal","$40873ecf3c18e122$var$onCloseButtonCloseClick","$9oB79","onClickIngredient","toggle","removeEventListener","querySelectorAll","forEach","modalCardEl1","$4ae5ffc0f8de8ec2$export$2dd1109f1a5b4003","$4ae5ffc0f8de8ec2$var$_createModalMarkupCocktail","list","strDrinkThumb","strDrink","idDrink","strInstructions","$f0g2L","renderIngredientsMarkup","concat","$ffrYG","module","exports","getBundleURL","resolve","$aec34d064b678c79$var$generateIngredientsList","idCocktail","$aec34d064b678c79$var$_generateIngredientsList","arrCocktail","cocktailObj","objIngredients","i","$dDDEV","$hKHmD","$aec34d064b678c79$export$347939b7c8e2307c","$aec34d064b678c79$var$_renderIngredientsMarkup","cocktail","arrIngredients","Object","keys","map","el","join","defineProperty","value","default","obj","key","enumerable","configurable","writable","length","source","ownKeys","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","$9eddae5a012cde57$var$_defineProperty","__esModule","$b0dbab6e11379d20$var$generateArrPromiseForFavoriteCocktailsMarkup","arr","arrPromise","gallery","$b0dbab6e11379d20$export$4dbf89a2933f30cf","$b0dbab6e11379d20$var$_renderFavoriteCocktailsMarkup","Promise","all","$8nrFW","$bya1K","pagination","firstElementChild","register","parse"],"version":3,"file":"favoriteCocktailsPage.b3a5c8d0.js.map"}