{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-c88b8e047ea4bee0.js","src/js/modal.js","src/js/createModalCoctailMarkup.js","node_modules/@parcel/runtime-js/lib/runtime-c4178f500b2e2cfb.js","src/js/generateIngridientsList.js","node_modules/@swc/helpers/src/_define_property.mjs","node_modules/@swc/helpers/src/_object_spread.mjs","node_modules/@swc/helpers/src/_object_spread_props.mjs","src/js/createFavoritesPage.js","src/favoriteCocktails.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1rd38\\\":\\\"favoriteCocktailsPage.75c052d2.js\\\",\\\"keK3E\\\":\\\"symbol-defs.fc3e2d0b.svg\\\",\\\"cnZrj\\\":\\\"favoriteIngredientsPage.8e5562e9.js\\\"}\"));","import { getCocktailById } from './request-api';\nimport { createModalMarkupCocktail } from './createModalCoctailMarkup';\n// import { isFavorite } from './addFavoriteCocktail';\nimport { onClickIngredient } from './modalEngredient';\nimport { STORAGE_KEY } from './refs';\nimport { getLocalData, checkIdCocktail } from './addFavoriteCocktail';\n\nconst closeModalButton = document.querySelector('.js-modal-coctail-close');\nconst modalCardEl = document.querySelector('#modal');\nconst body = document.querySelector('body');\nconst gallery = document.querySelector('.gallery');\n\nconst overlay = document.getElementById('overlay');\n\ngallery.addEventListener('click', onGalleryClick);\noverlay.addEventListener('click', onOverlayClick);\n// closeModalButton.addEventListener('click', onCloseButtonClick);\n\nasync function onGalleryClick(e) {\n  if (!e.target.dataset.modalTarget) {\n    return;\n  }\n  openModal(modalCardEl);\n\n  const coctail = await getCocktailById(e.target.dataset.id);\n\n  const markup = await createModalMarkupCocktail(coctail);\n\n  modalCardEl.innerHTML = markup;\n\n  modalCardEl.addEventListener('click', onClickModal);\n}\n\nfunction isFavoriteCoctail(e) {\n  const targetEl = e.target.closest('.modal__add-btn');\n\n  if (!targetEl) {\n    return;\n  }\n\n  if (targetEl.classList.contains('btn-added')) {\n    onRemoveFavorite(targetEl);\n  } else {\n    onAddFavorite(targetEl);\n  }\n}\n\nfunction onAddFavorite(elem) {\n  let arrCocktails = getLocalData(STORAGE_KEY);\n  arrCocktails.push(elem.dataset.id);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(arrCocktails));\n  elem.textContent = 'Remove from favorite';\n  elem.classList.add('btn-added');\n}\n\nfunction onRemoveFavorite(elem) {\n  let arrCocktails = getLocalData(STORAGE_KEY);\n  const index = checkIdCocktail(STORAGE_KEY, elem.dataset.id);\n  if (index >= 0) {\n    arrCocktails.splice(index, 1);\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(arrCocktails));\n  }\n\n  elem.textContent = 'Add to favorite';\n  elem.classList.remove('btn-added');\n}\n\nfunction onClickModal(e) {\n  isFavoriteCoctail(e);\n  onCloseButtonCloseClick(e);\n  onClickIngredient(e);\n}\n\nfunction onCloseButtonCloseClick(e) {\n  // console.log(e.target.closest('.js-modal-coctail-close'));\n  if (e.target.closest('.js-modal-coctail-close')) {\n    closeModal(modalCardEl);\n  }\n}\n\nfunction onOverlayClick() {\n  const modals = document.querySelectorAll('.modal.active');\n  modals.forEach(modalCardEl => {\n    closeModal(modalCardEl);\n  });\n}\n\nfunction openModal() {\n  modalCardEl.classList.add('active');\n  overlay.classList.add('active');\n  body.classList.toggle('modal-opened');\n}\n\nfunction closeModal() {\n  modalCardEl.classList.remove('active');\n  overlay.classList.remove('active');\n  body.classList.toggle('modal-opened');\n  removeEventListener('click', onClickModal);\n}\n","import sprite from '../images/symbol-defs.svg';\nimport { checkIdCocktail } from './addFavoriteCocktail';\nimport { renderIngredientsMarkup } from './generateIngridientsList';\nimport { STORAGE_KEY } from './refs';\n\nexport async function createModalMarkupCocktail(arrCocktails) {\n  // console.log('arrCocktails', arrCocktails);\n  const list = await renderIngredientsMarkup(arrCocktails.idDrink);\n  const { strDrinkThumb, strDrink, idDrink, strInstructions } = arrCocktails;\n\n  return `\n        <button class=\"modal__cocktail-close-button js-modal-coctail-close\" type=\"button\">\n            <svg class=\"close__icon\" width=\"32\" height=\"32\">\n              <use href=\"${sprite}#icon-close-btn\"></use>\n            </svg>\n        </button>\n        <h2 class=\"modal__coctail-name\">${strDrink}</h2>\n        <div class=\"modal__wrapper\">\n        <div class=\"modal__wrapper-instructions\">\n        <p class=\"modal__coctail-instractions\">INSTRUCTIONS:</p>\n        <p class=\"modal__coctail-description\">${strInstructions}</p>\n        </div>\n        <img class=\"modal__coctail-img\" src=\"${strDrinkThumb}\" alt=\"${strDrink}\" />\n        <div class=\"modal__wrapper-ingredients\">\n        <p class=\"modal__coctail-ingredients\">INGREDIENTS</p>\n        <p class=\"modal__p\">Per cocktail</p>\n        <ul class=\"modal__coctail-ingredients-list\">${list}</ul>\n        </div>\n        </div>\n        <button class=\" modal__add-btn coctail ${\n          checkIdCocktail(STORAGE_KEY, idDrink) >= 0 ? 'btn-added' : ''\n        }\" data-id=\"${idDrink}\" type=\"button\">\n            ${\n              checkIdCocktail(STORAGE_KEY, idDrink) >= 0\n                ? 'Remove from favorite'\n                : 'Add to favorite'\n            }\n        </button>\n    `;\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('1rd38') + require('./helpers/bundle-manifest').resolve(\"keK3E\");","import { getCocktailById } from './request-api';\n\nasync function generateIngredientsList(idCocktail) {\n  const arrCocktail = await getCocktailById(idCocktail);\n  const cocktailObj = arrCocktail;\n  let objIngredients = {};\n\n  for (let i = 1; i <= 15; i += 1) {\n    if (cocktailObj[`strIngredient${i}`]) {\n      objIngredients = {\n        ...objIngredients,\n        [cocktailObj[`strIngredient${i}`]]: cocktailObj[`strMeasure${i}`],\n      };\n    }\n  }\n  return objIngredients;\n}\n\nexport async function renderIngredientsMarkup(id) {\n  const cocktail = await generateIngredientsList(id);\n  const arrIngredients = Object.keys(cocktail);\n  const markup = arrIngredients\n    .map(el => {\n      return `<li class=\"modal__ingredients-item\" data-ingredient=\"${el}\"<span>âœ¶ </span><a data-ingredient=\"${el}\" class=\"modal__ingredient-link\">${\n        cocktail[el] ? cocktail[el] : ''\n      } ${el}</a></li>`;\n    })\n    .join('');\n  return markup;\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","import defineProperty from './_define_property.mjs';\n\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\n\nexport default function _objectSpreadProps(target, source) {\n  source = source != null ? source : {}\n  if (Object.getOwnPropertyDescriptors) {\n    Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n  } else {\n    ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(\n        target,\n        key,\n        Object.getOwnPropertyDescriptor(source, key)\n      );\n    });\n  }\n\n  return target;\n}","import { getCocktailById } from './request-api';\nimport { elem, gallery, STORAGE_KEY } from './refs';\nimport { getLocalData } from './addFavoriteCocktail';\nimport { pagination } from './renderSearchPage';\n\nconst favoriteCocktailsEl = document.querySelector('.js-favorite-cocktails');\n\nfavoriteCocktailsEl.addEventListener('click', renderFavoriteCocktailsMarkup);\n\nfunction generateArrPromiseForFavoriteCocktailsMarkup() {\n  let arr = getLocalData(STORAGE_KEY);\n  if (!arr.length) return noFoundFavorit();\n\n  let arrPromise = [];\n\n  for (let i = 0; i < arr.length; i += 1) {\n    arrPromise.push(getCocktailById(arr[i]));\n  }\n  return arrPromise;\n}\n\nexport async function renderFavoriteCocktailsMarkup() {\n  const arrPromise = generateArrPromiseForFavoriteCocktailsMarkup();\n  if (!arrPromise) return;\n  const arrCocktails = await Promise.all([...arrPromise]);\n  pagination(arrCocktails);\n\n  elem.firstElementChild.textContent = 'Favorite Cocktails';\n}\n\nfunction noFoundFavorit() {\n  gallery.textContent = `You haven't added any <br> favorite cocktails yet`;\n}\n","import './js/modal';\n\nimport './js/header/header-mobile';\nimport './js/header/headerSearchByName';\nimport { renderFavoriteCocktailsMarkup } from './js/createFavoritesPage';\n\nrenderFavoriteCocktailsMarkup();\n"],"names":["parcelRequire","register","JSON","parse","$4cQhD","$167d4110676f02d1$exports","getBundleURL","resolve","$9d2f6b1f7d6d6341$export$2e2bcd8739ae039","obj","key","value","Object","defineProperty","enumerable","configurable","writable","$0948243950f826fd$export$2e2bcd8739ae039","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","$db2f9349fdd6ba23$export$2e2bcd8739ae039","getOwnPropertyDescriptors","defineProperties","object","enumerableOnly","symbols","push","apply","$db2f9349fdd6ba23$var$ownKeys","$001ddb83cc6afd64$var$generateIngredientsList","idCocktail","$001ddb83cc6afd64$var$_generateIngredientsList","this","default","arrCocktail","cocktailObj","objIngredients","$89NHv","getCocktailById","_state","sent","$001ddb83cc6afd64$export$347939b7c8e2307c","id","$001ddb83cc6afd64$var$_renderIngredientsMarkup","cocktail","arrIngredients","map","el","join","$620f66abcbc6ac63$export$2dd1109f1a5b4003","arrCocktails","$620f66abcbc6ac63$var$_createModalMarkupCocktail","list","strDrinkThumb","strDrink","idDrink","strInstructions","$parcel$interopDefault","$brUO7","checkIdCocktail","$8M3hD","STORAGE_KEY","$36f15cc02fa4caea$var$modalCardEl","document","querySelector","$36f15cc02fa4caea$var$body","$36f15cc02fa4caea$var$gallery","$36f15cc02fa4caea$var$overlay","getElementById","$36f15cc02fa4caea$var$_onGalleryClick","e","markup","dataset","modalTarget","$36f15cc02fa4caea$var$openModal","innerHTML","addEventListener","$36f15cc02fa4caea$var$onClickModal","$36f15cc02fa4caea$var$isFavoriteCoctail","elem","targetEl","closest","classList","contains","getLocalData","index","splice","localStorage","setItem","stringify","textContent","remove","$36f15cc02fa4caea$var$onRemoveFavorite","add","$36f15cc02fa4caea$var$closeModal","$36f15cc02fa4caea$var$onCloseButtonCloseClick","$j0Qg5","onClickIngredient","toggle","removeEventListener","querySelectorAll","modalCardEl","$578e39387794c0ba$var$generateArrPromiseForFavoriteCocktailsMarkup","arr","arrPromise","gallery","$578e39387794c0ba$export$4dbf89a2933f30cf","$578e39387794c0ba$var$_renderFavoriteCocktailsMarkup","Promise","all","$hucLQ","$8eLzN","pagination","firstElementChild"],"version":3,"file":"favoriteCocktailsPage.75c052d2.js.map"}