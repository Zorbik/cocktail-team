{"mappings":"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","sources":["src/js/modal.js","src/js/createModalCoctailMarkup.js","node_modules/@parcel/runtime-js/lib/runtime-246d7f17877b7a3f.js","src/js/generateIngridientsList.js","src/js/createFavoritesPage.js","node_modules/@parcel/runtime-js/lib/runtime-e553dd13e72c0677.js"],"sourcesContent":["import { getCocktailById } from './request-api';\nimport { createModalMarkupCocktail } from './createModalCoctailMarkup';\n// import { isFavorite } from './addFavoriteCocktail';\nimport { onClickIngredient } from './modalEngredient';\nimport { STORAGE_KEY } from './refs';\nimport { getLocalData, checkIdCocktail } from './addFavoriteCocktail';\n\nconst closeModalButton = document.querySelector('.js-modal-coctail-close');\nconst modalCardEl = document.querySelector('#modal');\nconst body = document.querySelector('body');\nconst gallery = document.querySelector('.gallery');\n\nconst overlay = document.getElementById('overlay');\n\ngallery.addEventListener('click', onGalleryClick);\noverlay.addEventListener('click', onOverlayClick);\n// closeModalButton.addEventListener('click', onCloseButtonClick);\n\nasync function onGalleryClick(e) {\n  if (!e.target.dataset.modalTarget) {\n    return;\n  }\n  openModal(modalCardEl);\n\n  const coctail = await getCocktailById(e.target.dataset.id);\n\n  const markup = await createModalMarkupCocktail(coctail);\n\n  modalCardEl.innerHTML = markup;\n\n  modalCardEl.addEventListener('click', onClickModal);\n}\n\nfunction isFavoriteCoctail(e) {\n  const targetEl = e.target.closest('.modal__add-btn');\n\n  if (!targetEl) {\n    return;\n  }\n\n  if (targetEl.classList.contains('btn-added')) {\n    onRemoveFavorite(targetEl);\n  } else {\n    onAddFavorite(targetEl);\n  }\n}\n\nfunction onAddFavorite(elem) {\n  let arrCocktails = getLocalData(STORAGE_KEY);\n  arrCocktails.push(elem.dataset.id);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(arrCocktails));\n  elem.textContent = 'Remove from favorite';\n  elem.classList.add('btn-added');\n}\n\nfunction onRemoveFavorite(elem) {\n  let arrCocktails = getLocalData(STORAGE_KEY);\n  const index = checkIdCocktail(STORAGE_KEY, elem.dataset.id);\n  if (index >= 0) {\n    arrCocktails.splice(index, 1);\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(arrCocktails));\n  }\n\n  elem.textContent = 'Add to favorite';\n  elem.classList.remove('btn-added');\n}\n\nfunction onClickModal(e) {\n  isFavoriteCoctail(e);\n  onCloseButtonCloseClick(e);\n  onClickIngredient(e);\n}\n\nfunction onCloseButtonCloseClick(e) {\n  // console.log(e.target.closest('.js-modal-coctail-close'));\n  if (e.target.closest('.js-modal-coctail-close')) {\n    closeModal(modalCardEl);\n  }\n}\n\nfunction onOverlayClick() {\n  const modals = document.querySelectorAll('.modal.active');\n  modals.forEach(modalCardEl => {\n    closeModal(modalCardEl);\n  });\n}\n\nfunction openModal() {\n  modalCardEl.classList.add('active');\n  overlay.classList.add('active');\n  body.classList.toggle('modal-opened');\n}\n\nfunction closeModal() {\n  modalCardEl.classList.remove('active');\n  overlay.classList.remove('active');\n  body.classList.toggle('modal-opened');\n  removeEventListener('click', onClickModal);\n}\n","import sprite from '../images/symbol-defs.svg';\nimport { checkIdCocktail } from './addFavoriteCocktail';\nimport { renderIngredientsMarkup } from './generateIngridientsList';\nimport { STORAGE_KEY } from './refs';\n\nexport async function createModalMarkupCocktail(arrCocktails) {\n  // console.log('arrCocktails', arrCocktails);\n  const list = await renderIngredientsMarkup(arrCocktails.idDrink);\n  const { strDrinkThumb, strDrink, idDrink, strInstructions } = arrCocktails;\n\n  return `\n        <button class=\"modal__cocktail-close-button js-modal-coctail-close\" type=\"button\">\n            <svg class=\"close__icon\" width=\"32\" height=\"32\">\n              <use href=\"${sprite}#icon-close-btn\"></use>\n            </svg>\n        </button>\n        <h2 class=\"modal__coctail-name\">${strDrink}</h2>\n        <div class=\"modal__wrapper\">\n        <div class=\"modal__wrapper-instructions\">\n        <p class=\"modal__coctail-instractions\">INSTRUCTIONS:</p>\n        <p class=\"modal__coctail-description\">${strInstructions}</p>\n        </div>\n        <img class=\"modal__coctail-img\" src=\"${strDrinkThumb}\" alt=\"${strDrink}\" />\n        <div class=\"modal__wrapper-ingredients\">\n        <p class=\"modal__coctail-ingredients\">INGREDIENTS</p>\n        <p class=\"modal__p\">Per cocktail</p>\n        <ul class=\"modal__coctail-ingredients-list\">${list}</ul>\n        </div>\n        </div>\n        <button class=\" modal__add-btn coctail ${\n          checkIdCocktail(STORAGE_KEY, idDrink) >= 0 ? 'btn-added' : ''\n        }\" data-id=\"${idDrink}\" type=\"button\">\n            ${\n              checkIdCocktail(STORAGE_KEY, idDrink) >= 0\n                ? 'Remove from favorite'\n                : 'Add to favorite'\n            }\n        </button>\n    `;\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9v6fF\")).toString();","import { getCocktailById } from './request-api';\n\nasync function generateIngredientsList(idCocktail) {\n  const arrCocktail = await getCocktailById(idCocktail);\n  const cocktailObj = arrCocktail;\n  let objIngredients = {};\n\n  for (let i = 1; i <= 15; i += 1) {\n    if (cocktailObj[`strIngredient${i}`]) {\n      objIngredients = {\n        ...objIngredients,\n        [cocktailObj[`strIngredient${i}`]]: cocktailObj[`strMeasure${i}`],\n      };\n    }\n  }\n  return objIngredients;\n}\n\nexport async function renderIngredientsMarkup(id) {\n  const cocktail = await generateIngredientsList(id);\n  const arrIngredients = Object.keys(cocktail);\n  const markup = arrIngredients\n    .map(el => {\n      return `<li class=\"modal__ingredients-item\" data-ingredient=\"${el}\"<span>âœ¶ </span><a data-ingredient=\"${el}\" class=\"modal__ingredient-link\">${\n        cocktail[el] ? cocktail[el] : ''\n      } ${el}</a></li>`;\n    })\n    .join('');\n  return markup;\n}\n","import { getCocktailById } from './request-api';\nimport { elem, gallery, STORAGE_KEY } from './refs';\nimport { getLocalData } from './addFavoriteCocktail';\nimport { pagination } from './renderSearchPage';\n\nconst favoriteCocktailsEl = document.querySelector('.js-favorite-cocktails');\n\nfavoriteCocktailsEl.addEventListener('click', renderFavoriteCocktailsMarkup);\n\nfunction generateArrPromiseForFavoriteCocktailsMarkup() {\n  let arr = getLocalData(STORAGE_KEY);\n  if (!arr.length) return noFoundFavorit();\n\n  let arrPromise = [];\n\n  for (let i = 0; i < arr.length; i += 1) {\n    arrPromise.push(getCocktailById(arr[i]));\n  }\n  return arrPromise;\n}\n\nexport async function renderFavoriteCocktailsMarkup() {\n  const arrPromise = generateArrPromiseForFavoriteCocktailsMarkup();\n  if (!arrPromise) return;\n  const arrCocktails = await Promise.all([...arrPromise]);\n  pagination(arrCocktails);\n\n  elem.firstElementChild.textContent = 'Favorite Cocktails';\n}\n\nfunction noFoundFavorit() {\n  gallery.textContent = `You haven't added any <br> favorite cocktails yet`;\n}\n","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"cKcKP\\\":\\\"favoriteCocktailsPage.1adf93f7.js\\\",\\\"9v6fF\\\":\\\"symbol-defs.fc3e2d0b.svg\\\"}\"));"],"names":["$2I93e","parcelRequire","document","querySelector","$8a7e756c566dd1ea$var$modalCardEl","$8a7e756c566dd1ea$var$body","$8a7e756c566dd1ea$var$gallery","$8a7e756c566dd1ea$var$overlay","getElementById","$8a7e756c566dd1ea$var$isFavoriteCoctail","e","targetEl","target","closest","classList","contains","elem","arrCocktails","$8Z9kZ","getLocalData","$krGWQ","STORAGE_KEY","index","checkIdCocktail","dataset","id","splice","localStorage","setItem","JSON","stringify","textContent","remove","$8a7e756c566dd1ea$var$onRemoveFavorite","push","add","$8a7e756c566dd1ea$var$onAddFavorite","$8a7e756c566dd1ea$var$onClickModal","$8a7e756c566dd1ea$var$closeModal","$8a7e756c566dd1ea$var$onCloseButtonCloseClick","$lEkxL","onClickIngredient","toggle","removeEventListener","addEventListener","async","modalTarget","coctail","getCocktailById","markup","$cyp4R","createModalMarkupCocktail","innerHTML","querySelectorAll","forEach","modalCardEl1","$1rJhf","$923c1cd96f1071ae$export$2dd1109f1a5b4003","list","$89IKy","renderIngredientsMarkup","idDrink","strDrinkThumb","strDrink","strInstructions","$parcel$interopDefault","module","exports","URL","resolve","import","meta","url","toString","$5f01e05cb33ad391$export$347939b7c8e2307c","cocktail","idCocktail","cocktailObj","objIngredients","i","$5f01e05cb33ad391$var$generateIngredientsList","Object","keys","map","el","join","$e586ae742bde12f7$var$generateArrPromiseForFavoriteCocktailsMarkup","arr","length","gallery","arrPromise","$e586ae742bde12f7$export$4dbf89a2933f30cf","Promise","all","$edPcE","pagination","firstElementChild","register","parse"],"version":3,"file":"favoriteCocktailsPage.1adf93f7.js.map"}