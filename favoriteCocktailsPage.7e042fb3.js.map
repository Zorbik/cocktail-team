{"mappings":"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","sources":["src/js/modal.js","src/js/createModalCoctailMarkup.js","node_modules/@parcel/runtime-js/lib/runtime-e22ea511e0d9930b.js","src/js/generateIngridientsList.js","node_modules/@swc/helpers/lib/_define_property.js","node_modules/@swc/helpers/lib/_object_spread.js","src/js/createFavoritesPage.js","node_modules/@parcel/runtime-js/lib/runtime-16d31086b167895f.js"],"sourcesContent":["import { getCocktailById } from './request-api';\nimport { createModalMarkupCocktail } from './createModalCoctailMarkup';\nimport { isFavorite } from './addFavoriteCocktail';\nimport { onClickIngredient } from './modalEngredient';\n\nconst closeModalButton = document.querySelector('.js-modal-coctail-close');\nconst modalCardEl = document.querySelector('#modal');\nconst body = document.querySelector('body');\nconst gallery = document.querySelector('.gallery');\n\nconst overlay = document.getElementById('overlay');\n\ngallery.addEventListener('click', onGalleryClick);\noverlay.addEventListener('click', onOverlayClick);\n// closeModalButton.addEventListener('click', onCloseButtonClick);\n\nasync function onGalleryClick(e) {\n  if (!e.target.dataset.modalTarget) {\n    return;\n  }\n  openModal(modalCardEl);\n\n  console.log('123', e.target.dataset.id);\n  const coctail = await getCocktailById(e.target.dataset.id);\n\n  const markup = await createModalMarkupCocktail(coctail);\n\n  modalCardEl.innerHTML = markup;\n\n  modalCardEl.addEventListener('click', onClickModal);\n}\n\nfunction onClickModal(e) {\n  isFavorite(e);\n  onCloseButtonCloseClick(e);\n  onClickIngredient(e);\n}\n\nfunction onCloseButtonCloseClick(e) {\n  // console.log(e.target.closest('.js-modal-coctail-close'));\n  if (e.target.closest('.js-modal-coctail-close')) {\n    closeModal(modalCardEl);\n  }\n}\n\nfunction onOverlayClick() {\n  const modals = document.querySelectorAll('.modal.active');\n  modals.forEach(modalCardEl => {\n    closeModal(modalCardEl);\n  });\n}\n\nfunction openModal() {\n  modalCardEl.classList.add('active');\n  overlay.classList.add('active');\n  body.classList.toggle('modal-opened');\n}\n\nfunction closeModal() {\n  modalCardEl.classList.remove('active');\n  overlay.classList.remove('active');\n  body.classList.toggle('modal-opened');\n  removeEventListener('click', onClickModal);\n}\n","import sprite from '../images/symbol-defs.svg';\nimport { checkIdCocktail } from './addFavoriteCocktail';\nimport { renderIngredientsMarkup } from './generateIngridientsList';\nimport { STORAGE_KEY } from './refs';\n\nexport async function createModalMarkupCocktail(arrCocktails) {\n  // console.log('arrCocktails', arrCocktails);\n  const list = await renderIngredientsMarkup(arrCocktails.idDrink);\n  const { strDrinkThumb, strDrink, idDrink, strInstructions } = arrCocktails;\n\n  return `\n        <button class=\"modal__cocktail-close-button js-modal-coctail-close\" type=\"button\">\n            <svg class=\"close__icon\" width=\"32\" height=\"32\">\n              <use href=\"${sprite}#icon-close-btn\"></use>\n            </svg>\n        </button>\n        <h2 class=\"modal__coctail-name\">${strDrink}</h2>\n        <div class=\"modal__wrapper\">\n        <div class=\"modal__wrapper-instructions\">\n        <p class=\"modal__coctail-instractions\">INSTRUCTIONS:</p>\n        <p class=\"modal__coctail-description\">${strInstructions}</p>\n        </div>\n        <img class=\"modal__coctail-img\" src=\"${strDrinkThumb}\" alt=\"${strDrink}\" />\n        <div class=\"modal__wrapper-ingredients\">\n        <p class=\"modal__coctail-ingredients\">INGREDIENTS</p>\n        <p class=\"modal__p\">Per cocktail</p>\n        <ul class=\"modal__coctail-ingredients-list\">${list}</ul>\n        </div>\n        </div>\n        <button class=\"gallery__add-btn btn\" data-id=\"${idDrink}\" type=\"button\">\n            <span class=\"add-btn__desr\">${\n              checkIdCocktail(STORAGE_KEY, idDrink) >= 0 ? 'Remove' : 'Add to'\n            }</span>\n            <svg class=\"add-btn__icon ${\n              checkIdCocktail(STORAGE_KEY, idDrink) >= 0 ? 'icon__fill' : ''\n            }\" width=\"18\" height=\"18\">\n              <use href=\"${sprite}#icon-empty-heart\"></use>\n            </svg>\n        </button>\n    `;\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('czn6k') + require('./helpers/bundle-manifest').resolve(\"kxKJ3\");","import { getCocktailById } from './request-api';\n\nasync function generateIngredientsList(idCocktail) {\n  const arrCocktail = await getCocktailById(idCocktail);\n  const cocktailObj = arrCocktail;\n  let objIngredients = {};\n\n  for (let i = 1; i <= 15; i += 1) {\n    if (cocktailObj[`strIngredient${i}`]) {\n      objIngredients = {\n        ...objIngredients,\n        [cocktailObj[`strIngredient${i}`]]: cocktailObj[`strMeasure${i}`],\n      };\n    }\n  }\n  return objIngredients;\n}\n\nexport async function renderIngredientsMarkup(id) {\n  const cocktail = await generateIngredientsList(id);\n  const arrIngredients = Object.keys(cocktail);\n  const markup = arrIngredients\n    .map(el => {\n      return `<li class=\"modal__ingredients-item\" data-ingredient=\"${el}\"<span>âœ¶ </span><a data-ingredient=\"${el}\" class=\"modal__ingredient-link\">${\n        cocktail[el] ? cocktail[el] : ''\n      } ${el}</a></li>`;\n    })\n    .join('');\n  return markup;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _objectSpread;\nvar _defineProperty = _interopRequireDefault(require(\"./_define_property\"));\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            (0, _defineProperty).default(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","import { getCocktailById } from './request-api';\nimport { createMarkupCocktail } from './createMarkupCocktail';\nimport { elem, gallery, STORAGE_KEY } from './refs';\nimport { getLocalData } from './addFavoriteCocktail';\n\nconst favoriteCocktailsEl = document.querySelector('.js-favorite-cocktails');\n\nfavoriteCocktailsEl.addEventListener('click', renderFavoriteCocktailsMarkup);\n\nfunction generateArrPromiseForFavoriteCocktailsMarkup() {\n  let arr = getLocalData(STORAGE_KEY);\n  if (!arr.length) return noFoundFavorit();\n  let arrPromise = [];\n\n  for (let i = 0; i < arr.length; i += 1) {\n    arrPromise.push(getCocktailById(arr[i]));\n  }\n  console.log('arrPromise', arrPromise);\n  return arrPromise;\n}\n\nexport async function renderFavoriteCocktailsMarkup() {\n  const arrPromise = generateArrPromiseForFavoriteCocktailsMarkup();\n  const arrCocktails = await Promise.all([...arrPromise]);\n  console.log('arrCocktails', arrCocktails);\n  const markup = createMarkupCocktail(arrCocktails);\n  gallery.innerHTML = markup;\n  elem.firstElementChild.textContent = 'Favorite Cocktails';\n}\n\nfunction noFoundFavorit() {\n  gallery.textContent = `You haven't added any favorite cocktails yet`;\n}\n","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"czn6k\\\":\\\"favoriteCocktailsPage.7e042fb3.js\\\",\\\"kxKJ3\\\":\\\"symbol-defs.fc3e2d0b.svg\\\"}\"));"],"names":["$bpxeT","parcelRequire","$40873ecf3c18e122$var$modalCardEl","document","querySelector","$40873ecf3c18e122$var$body","$40873ecf3c18e122$var$gallery","$40873ecf3c18e122$var$overlay","getElementById","$40873ecf3c18e122$var$_onGalleryClick","$parcel$interopDefault","$2TvXO","mark","_callee","e","coctail","markup","target","dataset","modalTarget","$40873ecf3c18e122$var$openModal","console","log","id","$ikj7U","getCocktailById","_ctx","sent","$6qGjV","createModalMarkupCocktail","innerHTML","addEventListener","$40873ecf3c18e122$var$onClickModal","apply","this","arguments","$29o51","isFavorite","closest","$40873ecf3c18e122$var$closeModal","$40873ecf3c18e122$var$onCloseButtonCloseClick","$9oB79","onClickIngredient","classList","add","toggle","remove","removeEventListener","querySelectorAll","forEach","modalCardEl1","$4ae5ffc0f8de8ec2$export$2dd1109f1a5b4003","arrCocktails","$4ae5ffc0f8de8ec2$var$_createModalMarkupCocktail","list","strDrinkThumb","strDrink","idDrink","strInstructions","$f0g2L","renderIngredientsMarkup","concat","$ffrYG","checkIdCocktail","$4Nugj","STORAGE_KEY","module","exports","getBundleURL","resolve","$aec34d064b678c79$var$generateIngredientsList","idCocktail","$aec34d064b678c79$var$_generateIngredientsList","arrCocktail","cocktailObj","objIngredients","i","$dDDEV","$hKHmD","$aec34d064b678c79$export$347939b7c8e2307c","$aec34d064b678c79$var$_renderIngredientsMarkup","cocktail","arrIngredients","Object","keys","map","el","join","defineProperty","value","default","obj","key","enumerable","configurable","writable","length","source","ownKeys","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","$9eddae5a012cde57$var$_defineProperty","__esModule","$b0dbab6e11379d20$var$generateArrPromiseForFavoriteCocktailsMarkup","arr","getLocalData","arrPromise","push","gallery","textContent","$b0dbab6e11379d20$export$4dbf89a2933f30cf","$b0dbab6e11379d20$var$_renderFavoriteCocktailsMarkup","Promise","all","$8nrFW","$9qdW1","createMarkupCocktail","elem","firstElementChild","register","JSON","parse"],"version":3,"file":"favoriteCocktailsPage.7e042fb3.js.map"}