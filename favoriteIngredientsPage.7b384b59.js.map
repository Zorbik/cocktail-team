{"mappings":"oeAAAA,EAAA,S,sBCAA,IAAAC,EAAAD,EAAA,S,8EA4BA,SAASE,EAAgBC,IACvB,EAAAC,EAAAC,8BAA6BF,GACzBA,EAAEG,OAAOC,QAAQ,+BACnBC,EAAcL,EAElB,CAEA,SAASK,EAAcL,GACjBA,EAAEG,OAAOG,UAAUC,SAAS,2BAC9B,EAAAC,EAAAC,oBAAmBT,EAAEG,QACrBH,EAAEG,OAAOC,QAAQ,MAAMM,UAClB,EAAAC,EAAAC,cAAad,EAAAe,wBAAwBC,SACxCC,IACAjB,EAAAkB,KAAKC,iBAAiBC,UAAY,MAGpC,EAAAV,EAAAW,iBAAgBnB,EAAEG,OAEtB,CAEA,SAASY,IACP,IAAIK,GAAM,EAAAT,EAAAC,cAAad,EAAAe,wBACvB,IAAKO,EAAIN,OAEP,YADAhB,EAAAuB,QAAQC,YAAc,kDAGxB,IAAIC,EAAa,GAEjB,IAAK,IAAIC,EAAI,EAAGA,EAAIJ,EAAIN,OAAQU,GAAK,EACnCD,EAAWE,MAAK,EAAAC,EAAAC,mBAAkBP,EAAII,KAExC,OAAOD,CACT,CApDAzB,EAAAuB,QAAQO,iBAAiB,SAEzB,SAAqB5B,GACnB,IAAKA,EAAEG,OAAOG,UAAUC,SAAS,OAAQ,OAErCP,EAAEG,OAAOC,QAAQ,6BACnBC,EAAcL,GAMlB6B,eAA8B7B,IAC5B,EAAAC,EAAA6B,uBACA,MAAMC,QAAmB,EAAAL,EAAAC,mBAAkB3B,EAAEG,OAAO6B,QAAQC,IAC5DnC,EAAAoC,kBAAkBhB,WAAY,EAAAiB,EAAAC,2BAA0BL,GAExDjC,EAAAoC,kBAAkBN,iBAAiB,QAAS7B,EAC9C,CAVIsC,CAAerC,EAEnB,IA4CO6B,iBACL,MAAMN,EAAaR,IACnB,IAAKQ,EAAY,OACjB,MAAMe,QAAsBC,QAAQC,IAAI,IAAIjB,KAE5C,EAAAkB,EAAAC,YAAWJ,GAEXxC,EAAAkB,KAAK2B,kBAAkBrB,YAAc,sBACvC,CDhEA","sources":["src/favoriteIngredients.js","src/js/createFavoritsIngredientPage.js"],"sourcesContent":["import './js/addFavoriteCocktail';\nimport './js/header/header-mobile';\nimport './js/header/headerSearchByName';\n\nimport { renderFavoriteIngredientMarkup } from './js/createFavoritsIngredientPage';\n\nrenderFavoriteIngredientMarkup();\n","import { elem, gallery, STORAGE_KEY_INGREDIENT, modalIngredientEl } from './refs';\nimport { getIngredientById } from './request-api';\nimport { getLocalData } from './addFavoriteCocktail';\nimport { onAddIngredient, onRemoveIngredient } from './addFavoriteIngredient';\nimport { openIngredientModal, onButtonCloseModalIngredient } from './modalEngredient';\nimport { createModalMarkupCocktail } from './createModalIngredientsMarkup';\nimport { pagination } from './renderSearchPage';\n\ngallery.addEventListener('click', onClickBtns);\n\nfunction onClickBtns(e) {\n  if (!e.target.classList.contains('btn')) return;\n\n  if (e.target.closest('.ingredient-info__btn-add')) {\n    onClickBtnAdd(e);\n  } else {\n    onClickBtnInfo(e);\n  }\n}\n\nasync function onClickBtnInfo(e) {\n  openIngredientModal();\n  const ingredient = await getIngredientById(e.target.dataset.id);\n  modalIngredientEl.innerHTML = createModalMarkupCocktail(ingredient);\n\n  modalIngredientEl.addEventListener('click', onBtnModalClick);\n}\n\nfunction onBtnModalClick(e) {\n  onButtonCloseModalIngredient(e);\n  if (e.target.closest('.modal-ingredient__add-btn')) {\n    onClickBtnAdd(e);\n  }\n}\n\nfunction onClickBtnAdd(e) {\n  if (e.target.classList.contains('icon-ingredients-fill')) {\n    onRemoveIngredient(e.target);\n    e.target.closest('li').remove();\n    if (!getLocalData(STORAGE_KEY_INGREDIENT).length) {\n      generateArrPromiseForFavoriteIngredientMarkup();\n      elem.lastElementChild.innerHTML = '';\n    }\n  } else {\n    onAddIngredient(e.target);\n  }\n}\n\nfunction generateArrPromiseForFavoriteIngredientMarkup() {\n  let arr = getLocalData(STORAGE_KEY_INGREDIENT);\n  if (!arr.length) {\n    gallery.textContent = `You haven't added any favorite ingridients yet`;\n    return;\n  }\n  let arrPromise = [];\n\n  for (let i = 0; i < arr.length; i += 1) {\n    arrPromise.push(getIngredientById(arr[i]));\n  }\n  return arrPromise;\n}\n\nexport async function renderFavoriteIngredientMarkup() {\n  const arrPromise = generateArrPromiseForFavoriteIngredientMarkup();\n  if (!arrPromise) return;\n  const arrIngredient = await Promise.all([...arrPromise]);\n\n  pagination(arrIngredient);\n\n  elem.firstElementChild.textContent = 'Favorite Ingredients';\n}\n"],"names":["parcelRequire","$k2e2J","$869d47fb49a93eb8$var$onBtnModalClick","e","$hMXdw","onButtonCloseModalIngredient","target","closest","$869d47fb49a93eb8$var$onClickBtnAdd","classList","contains","$7mwj0","onRemoveIngredient","remove","$6ukBZ","getLocalData","STORAGE_KEY_INGREDIENT","length","$869d47fb49a93eb8$var$generateArrPromiseForFavoriteIngredientMarkup","elem","lastElementChild","innerHTML","onAddIngredient","arr","gallery","textContent","arrPromise","i","push","$9kw25","getIngredientById","addEventListener","async","openIngredientModal","ingredient","dataset","id","modalIngredientEl","$1IxNP","createModalMarkupCocktail","$869d47fb49a93eb8$var$onClickBtnInfo","arrIngredient","Promise","all","$37nHh","pagination","firstElementChild"],"version":3,"file":"favoriteIngredientsPage.7b384b59.js.map"}