{"mappings":"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","sources":["src/js/modal.js","src/js/createModalCoctailMarkup.js","node_modules/@parcel/runtime-js/lib/runtime-246d7f17877b7a3f.js","src/js/generateIngridientsList.js","src/js/createFavoritesPage.js","node_modules/@parcel/runtime-js/lib/runtime-e553dd13e72c0677.js"],"sourcesContent":["import { getCocktailById } from './request-api';\nimport { createModalMarkupCocktail } from './createModalCoctailMarkup';\nimport { isFavorite } from './addFavoriteCocktail';\nimport { onClickIngredient } from './modalEngredient';\n\nconst closeModalButton = document.querySelector('.js-modal-coctail-close');\nconst modalCardEl = document.querySelector('#modal');\nconst body = document.querySelector('body');\nconst gallery = document.querySelector('.gallery');\n\nconst overlay = document.getElementById('overlay');\n\ngallery.addEventListener('click', onGalleryClick);\noverlay.addEventListener('click', onOverlayClick);\n// closeModalButton.addEventListener('click', onCloseButtonClick);\n\nasync function onGalleryClick(e) {\n  if (!e.target.dataset.modalTarget) {\n    return;\n  }\n  openModal(modalCardEl);\n\n  console.log('123', e.target.dataset.id);\n  const coctail = await getCocktailById(e.target.dataset.id);\n\n  const markup = await createModalMarkupCocktail(coctail);\n\n  modalCardEl.innerHTML = markup;\n\n  modalCardEl.addEventListener('click', onClickModal);\n}\n\nfunction onClickModal(e) {\n  isFavorite(e);\n  onCloseButtonCloseClick(e);\n  onClickIngredient(e);\n}\n\nfunction onCloseButtonCloseClick(e) {\n  // console.log(e.target.closest('.js-modal-coctail-close'));\n  if (e.target.closest('.js-modal-coctail-close')) {\n    closeModal(modalCardEl);\n  }\n}\n\nfunction onOverlayClick() {\n  const modals = document.querySelectorAll('.modal.active');\n  modals.forEach(modalCardEl => {\n    closeModal(modalCardEl);\n  });\n}\n\nfunction openModal() {\n  modalCardEl.classList.add('active');\n  overlay.classList.add('active');\n  body.classList.toggle('modal-opened');\n}\n\nfunction closeModal() {\n  modalCardEl.classList.remove('active');\n  overlay.classList.remove('active');\n  body.classList.toggle('modal-opened');\n  removeEventListener('click', onClickModal);\n}\n","import sprite from '../images/symbol-defs.svg';\nimport { checkIdCocktail } from './addFavoriteCocktail';\nimport { renderIngredientsMarkup } from './generateIngridientsList';\nimport { STORAGE_KEY } from './refs';\n\nexport async function createModalMarkupCocktail(arrCocktails) {\n  // console.log('arrCocktails', arrCocktails);\n  const list = await renderIngredientsMarkup(arrCocktails.idDrink);\n  const { strDrinkThumb, strDrink, idDrink, strInstructions } = arrCocktails;\n\n  return `\n        <button class=\"modal__cocktail-close-button js-modal-coctail-close\" type=\"button\">\n            <svg class=\"close__icon\" width=\"32\" height=\"32\">\n              <use href=\"${sprite}#icon-close-btn\"></use>\n            </svg>\n        </button>\n        <h2 class=\"modal__coctail-name\">${strDrink}</h2>\n        <div class=\"modal__wrapper\">\n        <div class=\"modal__wrapper-instructions\">\n        <p class=\"modal__coctail-instractions\">INSTRUCTIONS:</p>\n        <p class=\"modal__coctail-description\">${strInstructions}</p>\n        </div>\n        <img class=\"modal__coctail-img\" src=\"${strDrinkThumb}\" alt=\"${strDrink}\" />\n        <div class=\"modal__wrapper-ingredients\">\n        <p class=\"modal__coctail-ingredients\">INGREDIENTS</p>\n        <p class=\"modal__p\">Per cocktail</p>\n        <ul class=\"modal__coctail-ingredients-list\">${list}</ul>\n        </div>\n        </div>\n        <button class=\"gallery__add-btn btn\" data-id=\"${idDrink}\" type=\"button\">\n            <span class=\"add-btn__desr\">${\n              checkIdCocktail(STORAGE_KEY, idDrink) >= 0 ? 'Remove' : 'Add to'\n            }</span>\n            <svg class=\"add-btn__icon ${\n              checkIdCocktail(STORAGE_KEY, idDrink) >= 0 ? 'icon__fill' : ''\n            }\" width=\"18\" height=\"18\">\n              <use href=\"${sprite}#icon-empty-heart\"></use>\n            </svg>\n        </button>\n    `;\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9v6fF\")).toString();","import { getCocktailById } from './request-api';\n\nasync function generateIngredientsList(idCocktail) {\n  const arrCocktail = await getCocktailById(idCocktail);\n  const cocktailObj = arrCocktail;\n  let objIngredients = {};\n\n  for (let i = 1; i <= 15; i += 1) {\n    if (cocktailObj[`strIngredient${i}`]) {\n      objIngredients = {\n        ...objIngredients,\n        [cocktailObj[`strIngredient${i}`]]: cocktailObj[`strMeasure${i}`],\n      };\n    }\n  }\n  return objIngredients;\n}\n\nexport async function renderIngredientsMarkup(id) {\n  const cocktail = await generateIngredientsList(id);\n  const arrIngredients = Object.keys(cocktail);\n  const markup = arrIngredients\n    .map(el => {\n      return `<li class=\"modal__ingredients-item\" data-ingredient=\"${el}\"<span>âœ¶ </span><a data-ingredient=\"${el}\" class=\"modal__ingredient-link\">${\n        cocktail[el] ? cocktail[el] : ''\n      } ${el}</a></li>`;\n    })\n    .join('');\n  return markup;\n}\n","import { getCocktailById } from './request-api';\nimport { createMarkupCocktail } from './createMarkupCocktail';\nimport { elem, gallery, STORAGE_KEY } from './refs';\nimport { getLocalData } from './addFavoriteCocktail';\n\nconst favoriteCocktailsEl = document.querySelector('.js-favorite-cocktails');\n\nfavoriteCocktailsEl.addEventListener('click', renderFavoriteCocktailsMarkup);\n\nfunction generateArrPromiseForFavoriteCocktailsMarkup() {\n  let arr = getLocalData(STORAGE_KEY);\n  if (!arr.length) return noFoundFavorit();\n  let arrPromise = [];\n\n  for (let i = 0; i < arr.length; i += 1) {\n    arrPromise.push(getCocktailById(arr[i]));\n  }\n  console.log('arrPromise', arrPromise);\n  return arrPromise;\n}\n\nexport async function renderFavoriteCocktailsMarkup() {\n  const arrPromise = generateArrPromiseForFavoriteCocktailsMarkup();\n  const arrCocktails = await Promise.all([...arrPromise]);\n  console.log('arrCocktails', arrCocktails);\n  const markup = createMarkupCocktail(arrCocktails);\n  gallery.innerHTML = markup;\n  elem.firstElementChild.textContent = 'Favorite Cocktails';\n}\n\nfunction noFoundFavorit() {\n  gallery.textContent = `You haven't added any favorite cocktails yet`;\n}\n","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"cKcKP\\\":\\\"favoriteCocktailsPage.7c8c60ce.js\\\",\\\"9v6fF\\\":\\\"symbol-defs.fc3e2d0b.svg\\\"}\"));"],"names":["$2I93e","parcelRequire","document","querySelector","$8a7e756c566dd1ea$var$modalCardEl","$8a7e756c566dd1ea$var$body","$8a7e756c566dd1ea$var$gallery","$8a7e756c566dd1ea$var$overlay","getElementById","$8a7e756c566dd1ea$var$onClickModal","e","$8Z9kZ","isFavorite","target","closest","$8a7e756c566dd1ea$var$closeModal","$8a7e756c566dd1ea$var$onCloseButtonCloseClick","$lEkxL","onClickIngredient","classList","remove","toggle","removeEventListener","addEventListener","async","dataset","modalTarget","add","console","log","id","coctail","getCocktailById","markup","$cyp4R","createModalMarkupCocktail","innerHTML","querySelectorAll","forEach","modalCardEl1","$1rJhf","$923c1cd96f1071ae$export$2dd1109f1a5b4003","arrCocktails","list","$89IKy","renderIngredientsMarkup","idDrink","strDrinkThumb","strDrink","strInstructions","$parcel$interopDefault","checkIdCocktail","$krGWQ","STORAGE_KEY","module","exports","URL","resolve","import","meta","url","toString","$5f01e05cb33ad391$export$347939b7c8e2307c","cocktail","idCocktail","cocktailObj","objIngredients","i","$5f01e05cb33ad391$var$generateIngredientsList","Object","keys","map","el","join","$e586ae742bde12f7$var$generateArrPromiseForFavoriteCocktailsMarkup","arr","getLocalData","length","gallery","textContent","arrPromise","push","$e586ae742bde12f7$export$4dbf89a2933f30cf","Promise","all","$ueX3T","createMarkupCocktail","elem","firstElementChild","register","JSON","parse"],"version":3,"file":"favoriteCocktailsPage.7c8c60ce.js.map"}